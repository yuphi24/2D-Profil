(function(){var e={65257:function(e){e.exports={type:"FeatureCollection",features:[{id:"GHFS-32CM6XLT6Q",type:"Feature",geometry:{type:"Point",coordinates:[115.81,42.35861]},properties:{name:"A10",elevation:1364,q:109.5,q_unc:17,q_acq:null,env:"Onshore",wat_temp:null,method:"drilling",expl:"hydrocarbon",q_comment:null}},{id:"GHFS-UVCQEGXRQH",type:"Feature",geometry:{type:"Point",coordinates:[117.85111,46.41083]},properties:{name:"ZK3-3-47",elevation:802,q:92,q_unc:9.4,q_acq:null,env:"Onshore",wat_temp:null,method:"drilling",expl:"hydrocarbon",q_comment:null}},{id:"GHFS-XFT2HWZDLV",type:"Feature",geometry:{type:"Point",coordinates:[117.89556,46.42639]},properties:{name:"ZK3-3",elevation:806,q:86,q_unc:8,q_acq:null,env:"Onshore",wat_temp:null,method:"drilling",expl:"hydrocarbon",q_comment:null}},{id:"GHFS-5PGFUNZ5T6",type:"Feature",geometry:{type:"Point",coordinates:[117.81194,46.43111]},properties:{name:"ZK17-80",elevation:801,q:79.3,q_unc:9.6,q_acq:null,env:"Onshore",wat_temp:null,method:"drilling",expl:"hydrocarbon",q_comment:null}},{id:"GHFS-YZCE4QFPAM",type:"Feature",geometry:{type:"Point",coordinates:[117.84472,46.42472]},properties:{name:"ZK17-14",elevation:801,q:81.4,q_unc:7.5,q_acq:null,env:"Onshore",wat_temp:null,method:"drilling",expl:"hydrocarbon",q_comment:null}},{id:"GHFS-AKAH899PNL",type:"Feature",geometry:{type:"Point",coordinates:[116.23,45.02194]},properties:{name:"AC1",elevation:834,q:82.4,q_unc:12.8,q_acq:null,env:"Onshore",wat_temp:null,method:"drilling",expl:"hydrocarbon",q_comment:null}}]}},72661:function(e,t,a){"use strict";a(82986),a(20784);var l=a(49242),n=a(73396),o=(a(57658),a(87139)),i=a(44870),s=a(24964),r=a(5959),u=JSON.parse('[{"id":"bm_osm","title":"OpenStreetMap","cardImage":"https://a.tile.openstreetmap.org/0/0/0.png","tiles":"https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","attribution":"&copy; OpenStreetMap Contributors"},{"id":"bm_stamen_terrain","title":"Stamen Terrain","cardImage":"https://stamen-tiles.a.ssl.fastly.net/terrain/0/0/0.jpg","tiles":"https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg","attribution":"Map tiles by Stamen Design, under CC BY 3.0. Data by OpenStreetMap, under ODbL."},{"id":"bm_stamen_toner","title":"Stamen Toner","cardImage":"https://stamen-tiles.a.ssl.fastly.net/toner/0/0/0.png","tiles":"https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png","attribution":"Map tiles by Stamen Design, under CC BY 3.0. Data by OpenStreetMap, under ODbL."},{"id":"bm_world_bathymetry","title":"Some example for WMTS","cardImage":"https://services.ga.gov.au/gis/rest/services/World_Bathymetry_Base_Map/MapServer/WMTS/tile/1.0.0/World_Bathymetry_Base_Map/default/default028mm/0/0/0.png","tiles":"https://services.ga.gov.au/gis/rest/services/World_Bathymetry_Base_Map/MapServer/WMTS/tile/1.0.0/World_Bathymetry_Base_Map/default/default028mm/{z}/{y}/{x}.png","attribution":"Map tiles by <a href=\'https://ecat.ga.gov.au/geonetwork/srv/api/records/62030aca-329d-44b2-8b36-c74a5ac1f574\'>World Bathymetry Base Map WMTS</a>, <a href=\'https://creativecommons.org/licenses/\'>CC BY 4.0</a>"}]'),c=a(65257),d=a.n(c),p=a(85929),v=a(20649);const m=e=>((0,n.dD)("data-v-69ec2d7d"),e=e(),(0,n.Cn)(),e),g={class:"data-table-overlay"},h={class:"attribute-table rounded-rect collapsed"},f={class:"attribute-table-header"},y=m((()=>(0,n._)("h3",{class:"attribute-table-title"},"Attribute Table",-1))),b={class:"attribute-table-content",ref:"attributeTableContent"};var _={__name:"AttributeTable",props:{map:s.Map},emits:["toggle-dt-event"],setup(e){const t=e;(0,n.bv)((()=>{}));const a=(0,i.iH)(t.map.getSource("sites")._data.features),l=(0,i.iH)([]),o=(0,i.iH)([{title:"Id",data:"id"},{title:"Name",data:"name"},{title:"Environment",data:"env"},{title:"Method",data:"method"}]),s=(0,i.iH)({dom:"Bftip",select:!0,lengthChange:!0,lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],pageLength:10});return p.Z.use(v.Z),p.Z.use(v.Z),l.value=(0,n.Fl)((()=>a.value?a.value.map((e=>({id:e.id,name:e.properties.name,env:e.properties.env,method:e.properties.method}))):[])),(e,t)=>((0,n.wg)(),(0,n.iD)("div",g,[(0,n._)("div",h,[(0,n._)("div",f,[y,(0,n._)("button",{type:"button",class:"btn-close btn-close-white pull-right","aria-label":"Close",onClick:t[0]||(t[0]=t=>e.$emit("toggle-dt-event"))})]),(0,n._)("div",b,[(0,n.Wm)((0,i.SU)(p.Z),{data:l.value.value,columns:o.value,options:s.value,class:"display",width:"100%"},null,8,["data","columns","options"])],512)])]))}},w=a(40089);const S=(0,w.Z)(_,[["__scopeId","data-v-69ec2d7d"]]);var H=S;const k={class:"cursor-coordinates"};var C={__name:"CursorCoordinates",props:{map:s.Map},setup(e){const t=e,a=(0,i.iH)(t.map),l=(0,i.iH)(),s=(0,i.iH)();return(0,n.YP)(t,(e=>{a.value=e.map,a.value.on("mousemove",(function(e){l.value=e.lngLat.wrap().lat.toFixed(5),s.value=e.lngLat.wrap().lng.toFixed(5)}))})),(e,t)=>((0,n.wg)(),(0,n.iD)("div",k,"Lat: "+(0,o.zw)(l.value)+", Lon: "+(0,o.zw)(s.value),1))}};const D=(0,w.Z)(C,[["__scopeId","data-v-51ba85a2"]]);var F=D;const x={class:""};function M(e,t){return(0,n.wg)(),(0,n.iD)("div",x)}const P={},q=(0,w.Z)(P,[["render",M]]);var L=q,Z=a(3208);const E={class:"base-map-settings"},O=(0,n._)("div",{class:"settings-content-title"},[(0,n._)("h3",null,"Base Map")],-1),B={class:"settings-content-body"},j=["onClick"],Y=["src"],V={class:"card-body"},T={class:"card-title"};var W={__name:"BaseMapSettings",props:{title:String,map:s.Map,activeBaseLayer:String},setup(e){const t=e,a=(0,i.iH)(u),l=(0,i.iH)(t.activeBaseLayer);function s(e,a){a!=e&&(t.map.setLayoutProperty(e,"visibility","none"),t.map.setLayoutProperty(a,"visibility","visible"),l.value=a)}return(e,t)=>((0,n.wg)(),(0,n.iD)("div",E,[O,(0,n._)("div",B,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.value,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"card",style:{width:"9rem"},key:e.id,onClick:t=>s(l.value,e.id)},[(0,n._)("img",{class:"card-img-top",src:e.cardImage,alt:"Card image cap"},null,8,Y),(0,n._)("div",V,[(0,n._)("h5",T,(0,o.zw)(e.title),1)])],8,j)))),128))])]))}};const I=W;var z=I,A=(a(30541),a(96494)),U=a.n(A),K=a(44549),G=a(69183);const N=e=>((0,n.dD)("data-v-4e403742"),e=e(),(0,n.Cn)(),e),X=N((()=>(0,n._)("div",{class:"myTestDiv",id:"myTestDiv"},null,-1))),Q={class:"circle-styling-settings"},R=N((()=>(0,n._)("div",{class:"settings-content-title"},[(0,n._)("h3",null,"Style Circles")],-1))),J={class:"settings-content-body"},$={class:"circle-settings"},ee={class:"circle-color"},te=N((()=>(0,n._)("label",{for:"customRange1",class:"form-label"},"Circle Size",-1))),ae={class:"text-muted"},le={class:"circle-settings"},ne={class:"circle-color"},oe=N((()=>(0,n._)("label",null,"Fill color",-1))),ie={id:"swatches"},se=["onClick"],re=N((()=>(0,n._)("div",{class:"settings-content-title"},[(0,n._)("h3",null,"Data driven coloring")],-1))),ue={class:"circle-settings"},ce={class:"data-driven-coloring"},de={class:"property-selection"},pe=N((()=>(0,n._)("label",null,"Coloring based on",-1))),ve=N((()=>(0,n._)("option",{selected:"",disabled:"",hidden:""},"Select attribute",-1))),me=["selectedProperty"],ge={class:"color-selection"},he=N((()=>(0,n._)("label",{for:"color-selection"},"Color Palette",-1))),fe=N((()=>(0,n._)("button",{class:"btn-color-palette",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"}," Select color palette ",-1))),ye={class:"collapse",id:"collapseExample"},be={class:"card card-body"},_e=["onClick"],we={key:0,class:"data-classification-type"},Se=N((()=>(0,n._)("label",{for:"data-classification-type"},"Data Classification",-1))),He=["selectedClassificationType"],ke={key:1,class:"data-driven-coloring-steps"},Ce=N((()=>(0,n._)("label",null,"Number of Classes",-1)));var De={__name:"CircleStylingSettings",props:{map:s.Map,heatFlowSchema:Object},emits:["send-legend"],setup(e,{emit:t}){const a=e,s=(0,i.iH)(5),r=y(a.heatFlowSchema),u=(0,i.iH)("Select attribute"),c=(0,i.iH)(),d=(0,i.iH)(4),p=(0,i.iH)("BuGn"),v=(0,i.iH)({jenks:"Jenks (natural breakes)",quantil:"Quantil"}),m=(0,i.iH)(v.value.quantil),g=(0,i.iH)({}),h=()=>{t("send-legend",g.value)};function f(e){p.value=e,console.log(p.value)}function y(e){const t=Object.keys(e.properties);let l=[];return t.forEach((e=>{"string"!=a.heatFlowSchema.properties[e].type||a.heatFlowSchema.properties[e].enum?l.push(e):console.log(e+" is not suitable for data driven coloring")})),l}function b(e){return a.heatFlowSchema.properties[e].enum}function _(e,t,a){const l=w(e,t).filter(Boolean);let n=new(U())(l),o=n.getJenks(a);return o}function w(e,t){let a=[];return e.features.forEach((e=>{a.push(e.properties[t])})),a}function S(e,t,a){const l=w(e,t).filter(Boolean),n=(0,K.pAO)(l,a-1);return n.unshift(Math.min.apply(null,l)),n.push(Math.max.apply(null,l)),n}function H(){return m.value==v.value.jenks?_(a.map.getSource("sites")._data,u.value,d.value):S(a.map.getSource("sites")._data,u.value,d.value)}function k(e,t,a){let l=[];return l.push("match"),l.push(["get",e]),t.forEach(((e,t)=>{l.push(e,a[t])})),l.push("#ccc"),l}function C(e,t,a){let l=[],n=1;l.push("step"),l.push(["get",e]);for(var o=0;o<a.length;o++)l.push(a[o]),o<a.length-1&&(l.push(t[n]),n++);return l}function D(e,t){g.value={};for(var a=0;a<t.length;a++)t.length==e.length?g.value[a]={id:a,text:e[a],colorHEX:t[a]}:t.length<e.length&&(g.value[a]={id:a,text:e[a].toFixed(2)+" - "+e[a+1].toFixed(2),colorHEX:t[a]});return console.log("legend"),console.log(g.value),g}function F(){if(u.value){if("string"==c.value){let e=b(u.value);d.value=e.length;const t=k(u.value,e,G.Z[p.value][d.value]);a.map.setPaintProperty("sites","circle-color",t),D(e,G.Z[p.value][d.value])}else if("number"==c.value){let e=H();const t=C(u.value,e,G.Z[p.value][d.value]);a.map.setPaintProperty("sites","circle-color",t),D(e,G.Z[p.value][d.value])}}else console.error("no property selected")}function x(e){a.map.getPaintProperty("sites","circle-color")!=e&&a.map.setPaintProperty("sites","circle-color",e)}return(0,n.YP)(s,(e=>{a.map.setPaintProperty("sites","circle-radius",parseInt(e))})),(0,n.YP)(u,(e=>{c.value=a.heatFlowSchema.properties[e].type})),(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[X,(0,n._)("div",Q,[R,(0,n._)("div",J,[(0,n._)("div",$,[(0,n._)("div",ee,[te,(0,n.wy)((0,n._)("input",{type:"range",class:"form-range",id:"customRange1",min:"0",step:"1",max:"10","onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e)},null,512),[[l.nr,s.value]]),(0,n._)("span",ae,(0,o.zw)(s.value),1)])]),(0,n._)("div",le,[(0,n._)("div",ne,[(0,n._)("fieldset",null,[oe,(0,n._)("div",ie,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(G.Z)["Paired"][9],(e=>((0,n.wg)(),(0,n.iD)("button",{key:e,style:(0,o.j5)({"background-color":e}),onClick:t=>x(e)},null,12,se)))),128))])])])]),re,(0,n._)("div",ue,[(0,n._)("fieldset",null,[(0,n._)("div",ce,[(0,n._)("div",de,[pe,(0,n.wy)((0,n._)("select",{class:"form-select form-select-sm",name:"data-driven-coloring",id:"data-driven-coloring","onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),onChange:t[2]||(t[2]=e=>(F(),h()))},[ve,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(r),((e,t)=>((0,n.wg)(),(0,n.iD)("option",{key:t,selectedProperty:{value:e}},(0,o.zw)(e),9,me)))),128))],544),[[l.bM,u.value]])]),(0,n._)("div",ge,[he,fe,(0,n._)("div",ye,[(0,n._)("div",be,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(G.Z).schemeGroups.sequential,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"color-palette",key:t,onClick:t=>(f(e),F(),h())},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,i.SU)(G.Z)[e][d.value],(e=>((0,n.wg)(),(0,n.iD)("div",{class:"color",key:e,style:(0,o.j5)({backgroundColor:e})},null,4)))),128))],8,_e)))),128))])])]),"number"==c.value?((0,n.wg)(),(0,n.iD)("div",we,[Se,(0,n.wy)((0,n._)("select",{class:"form-select form-select-sm",name:"data-classification-type",id:"data-classification-type","onUpdate:modelValue":t[3]||(t[3]=e=>m.value=e),onChange:t[4]||(t[4]=e=>(F(),h()))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(v.value,((e,t)=>((0,n.wg)(),(0,n.iD)("option",{key:t,selectedClassificationType:{key:t}},(0,o.zw)(e),9,He)))),128))],544),[[l.bM,m.value]])])):(0,n.kq)("",!0),"number"==c.value?((0,n.wg)(),(0,n.iD)("div",ke,[Ce,(0,n.wy)((0,n._)("select",{class:"form-select form-select-sm",name:"data-driven-coloring",id:"data-driven-coloring","onUpdate:modelValue":t[5]||(t[5]=e=>d.value=e),onChange:t[6]||(t[6]=e=>(F(),h()))},[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(7,(e=>(0,n._)("option",{key:e},(0,o.zw)(e+2),1))),64))],544),[[l.bM,d.value]])])):(0,n.kq)("",!0)])])])])])],64))}};const Fe=(0,w.Z)(De,[["__scopeId","data-v-4e403742"]]);var xe=Fe;const Me={class:"settings-content"},Pe={class:"settings-content"};var qe={__name:"SettingsPanel",props:{map:s.Map,activeBaseLayer:String,heatFlowSchema:Object},emits:["handle-legend-event"],setup(e,{emit:t}){const a=e,l=(0,i.iH)(a.heatFlowSchema),o=e=>{t("handle-legend-event",e)};return(0,n.YP)(a,(e=>{l.value=e.heatFlowSchema,console.log("--------Settings"),console.log(l.value)})),(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",Me,[(0,n.Wm)(z,{map:a.map,activeBaseLayer:a.activeBaseLayer},null,8,["map","activeBaseLayer"])]),(0,n._)("div",Pe,[(0,n.Wm)(xe,{map:a.map,heatFlowSchema:l.value,onSendLegend:o},null,8,["map","heatFlowSchema"])])],64))}};const Le=(0,w.Z)(qe,[["__scopeId","data-v-20a86bad"]]);var Ze=Le,Ee=a(16368),Oe=a(8303),Be=a.n(Oe);const je=e=>((0,n.dD)("data-v-0fae8485"),e=e(),(0,n.Cn)(),e),Ye={class:"filter-element"},Ve={class:"filter-property"},Te={class:"remove-filter-btn"},We=je((()=>(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},[(0,n._)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"}),(0,n._)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"})],-1))),Ie=[We],ze={key:0,class:"filter-values"},Ae={class:"filter-controller"},Ue={key:0},Ke={key:1,class:"slider"},Ge={class:"row"},Ne={class:"col-sm-6"},Xe={class:"form-group"},Qe=["min","max"],Re={class:"col-sm-6"},Je={class:"form-group"},$e=["min","max"],et={key:0,class:"reset-filter-btn"},tt=je((()=>(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-bootstrap-reboot",viewBox:"0 0 16 16"},[(0,n._)("path",{d:"M1.161 8a6.84 6.84 0 1 0 6.842-6.84.58.58 0 1 1 0-1.16 8 8 0 1 1-6.556 3.412l-.663-.577a.58.58 0 0 1 .227-.997l2.52-.69a.58.58 0 0 1 .728.633l-.332 2.592a.58.58 0 0 1-.956.364l-.643-.56A6.812 6.812 0 0 0 1.16 8z"}),(0,n._)("path",{d:"M6.641 11.671V8.843h1.57l1.498 2.828h1.314L9.377 8.665c.897-.3 1.427-1.106 1.427-2.1 0-1.37-.943-2.246-2.456-2.246H5.5v7.352h1.141zm0-3.75V5.277h1.57c.881 0 1.416.499 1.416 1.32 0 .84-.504 1.324-1.386 1.324h-1.6z"})],-1))),at=[tt];var lt={__name:"FilterElement",props:{id:Number,map:Map,heatFlowSchema:Object},emits:["send-filterExpression","remove-filterElement"],setup(e,{emit:t}){const a=e,o=(0,i.iH)(m(a.heatFlowSchema)),s=(0,i.iH)(null),r=(0,i.iH)(null),u=(0,i.iH)(null),c=(0,i.iH)([]),d=(0,i.iH)([]),p=()=>{t("send-filterExpression",{expression:d.value,id:a.id})},v=()=>{t("remove-filterElement",{id:a.id})};function m(e){const t=Object.keys(e.properties);let l=[];return t.forEach((e=>{"string"!=a.heatFlowSchema.properties[e].type||a.heatFlowSchema.properties[e].enum?l.push(e):console.log(e+" is not suitable for filtering")})),l}function g(e,t,a){return e>=t&&e<=a}function h(e){r.value=a.heatFlowSchema.properties[e].type}function f(e){return a.heatFlowSchema.properties[e].enum}function y(e,t){let a=[];return e.features.forEach((e=>{a.push(e.properties[t])})),a}function b(e,t){const a=y(e,t).filter(Boolean),l=Math.min.apply(null,a),n=Math.max.apply(null,a),o=[l,n];return o}function _(e){if("string"==r.value)u.value=f(e);else if("number"==r.value){const t=a.map.getSource("sites")._data;u.value=b(t,e),c.value=[u.value[0],u.value[1]]}else console.log("Data type of property is not defined")}function w(){"number"==r.value&&0!=u.value.length?c.value=[u.value[0],u.value[1]]:c.value=[]}function S(){d.value=[]}function H(e,t){let a=["any"];return t.forEach((t=>{a.push(["in",["get",e],t])})),a}function k(e,t){const a=t[0],l=t[1];let n=["all",[">=",["get",e],a],["<=",["get",e],l]];return n}function C(e,t){s.value?"string"==r.value?d.value=H(e,t):"number"==r.value&&(d.value=k(e,t)):console.error("no property selected")}function D(){c.value=[c.value[0],c.value[1]]}function F(){console.log("hier selectedValue"),console.log(c.value)}return(0,n.YP)(c,(()=>{console.log(c.value),c.value.length>0?C(s.value,c.value):c.value.length})),(0,n.YP)(c,(e=>{"number"==r.value&&(g(e[0],u.value[0],u.value[1])?e[0]<e[1]&&(c.value[0]=e[0]):(console.log("newSelectedValue[0] "+e[0]+"  is  < than min "+u.value[0]),c.value[0]=u.value[0]),g(e[1],u.value[0],u.value[1])?e[1]>e[0]&&(c.value[1]=e[1]):(console.log("newSelectedValue[1] "+e[1]+"  is  > than max "+u.value[1]),c.value[1]=u.value[1]))})),(e,t)=>((0,n.wg)(),(0,n.iD)("div",Ye,[(0,n._)("div",Ve,[(0,n.Wm)((0,i.SU)(Ee.ZP),{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),options:o.value,placeholder:"Select property",onSelect:t[1]||(t[1]=t=>{e.printOutValues,h(s.value),_(s.value),w(),F()})},null,8,["modelValue","options"]),(0,n._)("div",Te,[(0,n._)("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=e=>v())},Ie)])]),s.value?((0,n.wg)(),(0,n.iD)("div",ze,[(0,n._)("div",Ae,["string"===r.value?((0,n.wg)(),(0,n.iD)("div",Ue,[(0,n.Wm)((0,i.SU)(Ee.ZP),{modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=e=>c.value=e),options:u.value,multiple:!0,placeholder:"Select value(s)",onSelect:t[4]||(t[4]=e=>{F(),C(s.value,c.value),p()}),onRemove:t[5]||(t[5]=e=>{C(s.value,c.value),p()})},null,8,["modelValue","options"])])):(0,n.kq)("",!0),"number"===r.value?((0,n.wg)(),(0,n.iD)("div",Ke,[(0,n.Wm)((0,i.SU)(Be()),{modelValue:c.value,"onUpdate:modelValue":t[6]||(t[6]=e=>c.value=e),enableCross:!1,min:u.value[0],max:u.value[1],interval:.01,onChange:t[7]||(t[7]=e=>{F(),C(s.value,c.value),p()})},null,8,["modelValue","min","max","interval"]),(0,n._)("form",null,[(0,n._)("div",Ge,[(0,n._)("div",Ne,[(0,n._)("div",Xe,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>c.value[0]=e),type:"number",class:"form-control",step:".01",min:u.value[0],max:c.value[1],id:"minNumberInput",placeholder:"Enter a min",onKeyup:t[9]||(t[9]=(0,l.D2)((e=>(D(),C(s.value,c.value),p())),["enter"]))},null,40,Qe),[[l.nr,c.value[0],void 0,{number:!0}]])])]),(0,n._)("div",Re,[(0,n._)("div",Je,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>c.value[1]=e),type:"number",class:"form-control",step:".01",min:c.value[0],max:u.value[1],id:"maxNumberInput",placeholder:"Enter a max",onKeyup:t[11]||(t[11]=(0,l.D2)((e=>(D(),C(s.value,c.value),p())),["enter"]))},null,40,$e),[[l.nr,c.value[1],void 0,{number:!0}]])])])])])])):(0,n.kq)("",!0)]),c.value.length>0?((0,n.wg)(),(0,n.iD)("div",et,[(0,n._)("button",{class:"btn btn-primary",onClick:t[12]||(t[12]=e=>{w(),S(),p()})},at)])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)]))}};const nt=(0,w.Z)(lt,[["__scopeId","data-v-0fae8485"]]);var ot=nt;const it={class:"filters-panel"},st={class:"filter-managing-tools"},rt={key:0,for:"add-filter-btn"};var ut={__name:"FilterPanal",props:{map:s.Map,heatFlowSchema:Object},setup(e){const t=e,a=(0,i.iH)([]),l=(0,i.iH)({}),o=(0,i.iH)(4),s=(0,i.iH)(!1);function r(){a.value.length<=o.value?a.value.push(Date.now()):(s.value=!0,console.log("You reached the maximum number of filters"))}(0,n.YP)(l.value,(()=>{console.log("jo wird gecheckt wenn sich was ändert"),p()}));const u=e=>{l.value[e.id]=e.expression,console.log("FilterPanel"),console.log(l.value)},c=e=>{if(a.value.includes(e.id)){const t=a.value.indexOf(e.id);a.value.splice(t,1),delete l.value[e.id]}else console.log("FilterElement ID is not in filterIds array");a.value.length===o.value&&(s.value=!1)};function d(){let e=["all"];return Object.entries(l.value).forEach((([t])=>{0!=l.value[t].length?e.push(l.value[t]):console.log("Empty filterExpression for filter with key: "+t)})),console.log(e),e}function p(){const e=d();t.map.setFilter("sites",e)}return(t,l)=>((0,n.wg)(),(0,n.iD)("div",it,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.value,(t=>((0,n.wg)(),(0,n.j4)(ot,{key:t,id:t,heatFlowSchema:e.heatFlowSchema,map:e.map,onSendFilterExpression:l[0]||(l[0]=e=>u(e)),onRemoveFilterElement:l[1]||(l[1]=e=>c(e))},null,8,["id","heatFlowSchema","map"])))),128)),(0,n._)("div",st,[s.value?((0,n.wg)(),(0,n.iD)("label",rt,"You reached the max number of filters")):(0,n.kq)("",!0),s.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:1,id:"add-filter-btn",class:"btn btn-primary",onClick:l[2]||(l[2]=e=>r())}," + Add Filter "))])]))}};const ct=ut;var dt=ct;const pt=(0,n._)("h1",null,"Statistics",-1),vt=[pt];function mt(e,t){return(0,n.wg)(),(0,n.iD)("div",null,vt)}const gt={},ht=(0,w.Z)(gt,[["render",mt]]);var ft=ht;const yt=(0,n._)("h1",null,"Analysis",-1),bt=[yt];function _t(e,t){return(0,n.wg)(),(0,n.iD)("div",null,bt)}const wt={},St=(0,w.Z)(wt,[["render",_t]]);var Ht=St;const kt=e=>((0,n.dD)("data-v-1a29a121"),e=e(),(0,n.Cn)(),e),Ct={class:"sidebar-header"},Dt={key:0,class:"sidebar-title",id:"sidebarTitle"},Ft=kt((()=>(0,n._)("div",{style:{clear:"both"}},null,-1))),xt={class:"sidebar-body"};var Mt={__name:"LeftPanel",props:{title:String,map:s.Map,activeBaseLayer:String,heatFlowSchema:Object},emits:["collapse-event","toggle-event","handle-legend-event"],setup(e,{emit:t}){const a=e,l=(0,i.iH)(a.heatFlowSchema);(0,n.YP)(a,(e=>{l.value=e.heatFlowSchema}));const s=e=>{t("handle-legend-event",e)};return(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",Ct,[a.title?((0,n.wg)(),(0,n.iD)("h3",Dt,(0,o.zw)(a.title),1)):(0,n.kq)("",!0),(0,n._)("button",{type:"button",class:"btn-close btn-close-white pull-right","data-bs-dismiss":"sidebar","aria-label":"Close",onClick:t[0]||(t[0]=t=>(e.$emit("collapse-event"),e.$emit("toggle-event")))}),Ft]),(0,n.Wm)((0,i.SU)(Z.x),{style:{height:"95%","padding-bottom":"10px","overflow-y":"auto"}},{default:(0,n.w5)((()=>[(0,n._)("div",xt,["Settings"===a.title?((0,n.wg)(),(0,n.j4)(Ze,{key:0,map:a.map,activeBaseLayer:a.activeBaseLayer,heatFlowSchema:l.value,onHandleLegendEvent:s},null,8,["map","activeBaseLayer","heatFlowSchema"])):(0,n.kq)("",!0),"Filter"===a.title?((0,n.wg)(),(0,n.j4)(dt,{key:1,map:a.map,heatFlowSchema:l.value},null,8,["map","heatFlowSchema"])):(0,n.kq)("",!0),"Statistics"===a.title?((0,n.wg)(),(0,n.j4)(ft,{key:2})):(0,n.kq)("",!0),"Analysis"===a.title?((0,n.wg)(),(0,n.j4)(Ht,{key:3})):(0,n.kq)("",!0)])])),_:1})],64))}};const Pt=(0,w.Z)(Mt,[["__scopeId","data-v-1a29a121"]]);var qt=Pt,Lt=a(35884),Zt=a.n(Lt);const Et={class:""};var Ot={__name:"MapControls",props:{map:s.Map},setup(e){const t=e,a=(0,i.iH)(t.map);return(0,n.YP)(t,(e=>{a.value=e.map,a.value.addControl(new s.ScaleControl,"bottom-right"),a.value.addControl(new s.FullscreenControl,"top-right"),a.value.addControl(new s.NavigationControl,"top-right"),a.value.addControl(new(Zt())({displayControlsDefault:!1,controls:{polygon:!0,line_string:!0,trash:!0}}))})),(e,t)=>((0,n.wg)(),(0,n.iD)("div",Et))}};const Bt=Ot;var jt=Bt;const Yt={class:""};var Vt={__name:"InfoPopup",props:{map:s.Map},setup(e){const t=e,a=(0,i.iH)(t.map);return(0,n.YP)(t,(e=>{a.value=e.map,a.value.on("click","sites",(e=>{const t=e.features[0].geometry.coordinates.slice(),l="Here selection of attributes";while(Math.abs(e.lngLat.lng-t[0])>180)t[0]+=e.lngLat.lng>t[0]?360:-360;(new s.Popup).setLngLat(t).setHTML(l).addTo(a.value)})),a.value.on("click","sites",(e=>{a.value.flyTo({center:e.features[0].geometry.coordinates})})),a.value.on("mouseenter","sites",(()=>{a.value.getCanvas().style.cursor="pointer"})),a.value.on("mouseleave","sites",(()=>{a.value.getCanvas().style.cursor=""}))})),(e,t)=>((0,n.wg)(),(0,n.iD)("div",Yt))}};const Tt=(0,w.Z)(Vt,[["__scopeId","data-v-0b01314c"]]);var Wt=Tt;function It(e,t){return(0,n.wg)(),(0,n.iD)("div")}const zt={},At=(0,w.Z)(zt,[["render",It]]);var Ut=At;const Kt=e=>((0,n.dD)("data-v-6e382abb"),e=e(),(0,n.Cn)(),e),Gt={key:0,class:"legend-container"},Nt=Kt((()=>(0,n._)("button",{class:"btn-color-palette",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseLegend","aria-expanded":"false","aria-controls":"collapseLegend"}," Legend ",-1))),Xt={key:0,class:"collapse",id:"collapseLegend"},Qt={class:"card card-body"},Rt={class:"legend-values"};var Jt={__name:"MapLegend",props:{legend:Object},setup(e){const t=e,a=(0,i.iH)(null);return(0,n.YP)(t,(e=>{a.value=e.legend,console.log("--------legend"),console.log(a.value)})),(e,t)=>null!=a.value?((0,n.wg)(),(0,n.iD)("div",Gt,[Nt,null!=a.value?((0,n.wg)(),(0,n.iD)("div",Xt,[(0,n._)("div",Qt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.value,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"legend-entries",key:e.id},[(0,n._)("button",{class:"legend-color-btn",style:(0,o.j5)({"background-color":e.colorHEX})},null,4),(0,n._)("div",Rt,(0,o.zw)(e.text),1)])))),128))])])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)}};const $t=(0,w.Z)(Jt,[["__scopeId","data-v-6e382abb"]]);var ea=$t;const ta={class:"map-wrap"},aa={class:"fixed-bottom"},la={class:"cursor-div"},na={id:"left-panel",class:"sidebar flex-center left collapsed"},oa={class:"sidebar-content rounded-rect"},ia={class:"trigger-data-table"};var sa={__name:"MapApp",setup(e){const t=(0,i.iH)(),a=(0,i.iH)(),l=(0,i.iH)(["Settings","Filter","Statistics","Analysis"]),c=(0,i.iH)(""),p=(0,i.iH)(u),v=(0,i.iH)(""),m=(0,i.iH)(d()),g=(0,i.iH)("#41b6c4"),h=(0,i.iH)(!0),f=(0,i.iH)(),y=(0,i.iH)(),b=(0,i.iH)(null),_=()=>h.value=!h.value,w=()=>{const e=document.getElementById("left-panel"),t=e.classList.toggle("collapsed"),a={};a["left-panel"]=t?0:300},S=e=>{b.value=e,console.log("parentCompnent"),console.log(b.value)},k=(0,i.iH)(!1),C=()=>{k.value=!k.value};function D(e){fetch(e).then((e=>{if(!e.ok)throw new Error("HTTP error "+e.status);return e.text()})).then((e=>{f.value=r.ZP.load(e),y.value=f.value.components.schemas.HeatFlow})).catch((function(e){console.log("Failed to fetch the YAML file."),console.error(e)}))}function x(e){c.value=e.srcElement.innerHTML}function M(e){let t={};return e.forEach((e=>{t[e.id]={type:"raster",tiles:[e.tiles],tileSize:256,attribution:e.attribution,minzoom:0,maxzoom:22}})),t}function P(e){let t=[];return e.forEach(((e,a)=>{let l={id:e.id,type:"raster",source:e.id};0==a?(v.value=e.id,l.layout={visibility:"visible"}):l.layout={visibility:"none"},t.push(l)})),t}function q(){console.log("heatflow schema mapapp"),console.log(f.value)}return D("/ghfdb_API_copy.yaml"),(0,n.bv)((()=>{a.value=(0,i.Xl)(new s.Map({mapId:"map_1",container:t.value,attributionControl:!0,style:{version:8,sources:M(p.value),layers:P(p.value),glyphs:"https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf"}})),a.value.once("load",(()=>{a.value.addSource("sites",{type:"geojson",data:m.value}),console.log("MapApp.vue raw sites"),console.log(m.value),a.value.addLayer({id:"sites",type:"circle",source:"sites",paint:{"circle-color":g.value,"circle-radius":4,"circle-stroke-width":.5,"circle-stroke-color":"#a1dab4"},layout:{visibility:"visible"}})}))})),(0,n.Ah)((()=>{a.value?.remove()})),(e,i)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",ta,[(0,n._)("div",{class:"map",ref_key:"mapContainer",ref:t,onMousemove:i[4]||(i[4]=(...t)=>e.updateLatLng&&e.updateLatLng(...t))},[(0,n.Wm)(L,{map:a.value},null,8,["map"]),(0,n.Wm)(Ut,{map:a.value},null,8,["map"]),(0,n.Wm)(Wt,{map:a.value},null,8,["map"]),(0,n.Wm)(jt,{map:a.value},null,8,["map"]),(0,n.Wm)(ea,{legend:b.value},null,8,["legend"]),(0,n._)("div",aa,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.value,(e=>((0,n.wg)(),(0,n.iD)("button",{key:e,onClick:i[0]||(i[0]=e=>(h.value&&x(e),w(),_())),type:"button",class:"btn btn-primary"},(0,o.zw)(e),1)))),128)),(0,n._)("div",la,[(0,n.Wm)(F,{map:a.value},null,8,["map"])])]),(0,n._)("div",na,[(0,n._)("div",oa,[(0,n.Wm)(qt,{title:c.value,map:a.value,activeBaseLayer:v.value,heatFlowSchema:y.value,onCollapseEvent:i[1]||(i[1]=e=>_()),onToggleEvent:i[2]||(i[2]=e=>w()),onHandleLegendEvent:S},null,8,["title","map","activeBaseLayer","heatFlowSchema"])])]),(0,n._)("div",ia,[(0,n._)("button",{type:"button",class:"btn-trigger-data-table btn btn-primary",onClick:i[3]||(i[3]=e=>{C(),q()})}," Show Data Table ")])],544)]),k.value?((0,n.wg)(),(0,n.j4)(H,{key:0,onToggleDtEvent:i[5]||(i[5]=e=>C()),map:a.value},null,8,["map"])):(0,n.kq)("",!0)],64))}};const ra=(0,w.Z)(sa,[["__scopeId","data-v-584e6b7d"]]);var ua=ra;const ca={class:"app"};var da={__name:"App",setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)("div",ca,[(0,n.Wm)(ua)]))}};const pa=da;var va=pa;a(48052);const ma=(0,l.ri)(va);ma.mount("#app")},75042:function(){}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var o=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,function(){a.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){a.amdO={}}(),function(){var e=[];a.O=function(t,l,n,o){if(!l){var i=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],o=e[c][2];for(var s=!0,r=0;r<l.length;r++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](l[r])}))?l.splice(r--,1):(s=!1,o<i&&(i=o));if(s){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[l,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,o,i=l[0],s=l[1],r=l[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(r)var c=r(a)}for(t&&t(l);u<i.length;u++)o=i[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},l=self["webpackChunkwhfd_mapping"]=self["webpackChunkwhfd_mapping"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(72661)}));l=a.O(l)})();
//# sourceMappingURL=app.c7039588.js.map